{% extends 'base.html' %}
{% load static %}
{% load custom_filters %}
{% block content %}
    
    {% if cart_items.count == 0 %}
        <div class="empty-cart-container">
            <p class="cart-empty-text">Your cart is empty</p>
        </div>
    {% else %}
        <div class="cart-content js-cart-content">
            <div class="shopping-cart js-shopping-cart">
                <div>
                    <h2>Shopping Cart</h2>
                    <a href="#" class="link-text-cart">Deselect all items</a>
                    <div class="shipping-cart-grid">
                        <div class="shipping-details-section">
                            
                        </div>
                        <div class="price-section">
                            <p>Price</p>
                        </div>
                    </div>
        
                    <hr class="horizontal-line">
                    {% for item in cart_items %}
                    <div class="shipping-cart-grid js-cart-grid-{{ item.product.pid }}">
                        <div class="shipping-details-section js-cart-item">
                            <input type="checkbox">
                            <img src="{{ item.product.image.url }}" class="cart-item-image" alt="">
                            <div class="cart-item-content">
                                <h3>{{ item.product.name }}</h3>
                                <p>FREE delivery <strong>Fri, 22 Aug</strong></p>
                                <div class="cart-additional-options">
                                    <div class="cart-dynamic-button js-cart-dynamic-button-{{ item.product.pid }}"><button class="js-update-quantity" data-product-id = {{ item.product.pid }} data-sub="true">-</button><h3 class="js-cart-item-quantity-{{ item.product.pid }}">{{ item.quantity }}</h3><button class="js-update-quantity" data-product-id = {{ item.product.pid }} data-sub="false">+</button></div>
                                    <div class="vertical-line"></div>
                                    <a class="link-text-cart js-cartitem-delete" data-product-id = "{{ item.product.pid }}">Delete</a>
                                    <!-- <div class="vertical-line"></div>
                                    <a href="#" class="link-text-cart">Save for later</a>
                                    <div class="vertical-line"></div>
                                    <a href="#" class="link-text-cart">Share</a> -->
                                </div>
                            </div>
                            
                        </div>
                        <div class="price-section">
                            <h2>{{ item.product.price|rupee }}</h2>
                        </div>
                    </div>
                    <hr class="horizontal-line js-horizontal-line-{{ item.product.pid }}">
                    {% endfor %}
                </div>
                <h3 class="subtotal-payment">Subtotal (5 items): <strong>₹55,195.00</strong></h3>
                
            </div>

            <div class="payment">
                <h3 class="subtotal-payment left-align">Subtotal (5 items): <strong>₹55,195.00</strong></h3>
                <div class="cart-payment-gift-checkbox"><input type="checkbox"><p>This order contains a gift</p></div>
                <form action="{% url 'confirm_order' %}" method="post">
                    {% csrf_token %}
                    <button class="proceed-button" type="submit">Proceed to Buy</button>
                </form>
                
            </div>
        </div>
    {% endif %}
            
        </div>
{% endblock %}